<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sovereign Foreign Intent - Charter Legacy</title>
    <link rel="stylesheet" href="styles/app.css">
    <link rel="stylesheet" href="styles/wizard-premium.css">
    <style>
        :root {
            --canvas: #F2F2F7;
            --surface: #FFFFFF;
            --obsidian-ink: #1D1D1F;
            --gold-leaf: #C6A355;
            --radius-md: 24px;
            --radius-sm: 12px;
        }

        body {
            background-color: var(--canvas);
            font-family: -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
            color: var(--obsidian-ink);
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        .wizard-container {
            width: 95% !important;
            max-width: 900px !important;
            margin: 40px auto 120px !important;
            padding: 0 !important;
        }

        .wizard-card {
            background: #FFFFFF;
            border-radius: 28px;
            padding: 60px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.04);
            border: 1px solid rgba(0,0,0,0.02);
            position: relative;
        }

        .step-title {
            font-size: 1.5rem;
            font-weight: 900;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .step-subtitle {
            font-size: 0.9rem;
            color: rgba(0, 0, 0, 0.5);
            margin-bottom: 32px;
        }

        .input-group {
            margin-bottom: 28px;
        }

        .input-label {
            display: block;
            font-size: 0.65rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.14em;
            color: var(--gold-leaf);
            margin-bottom: 12px;
        }

        .input-field {
            width: 100%;
            padding: 16px 20px;
            background: #F2F2F7;
            border: 1px solid #E5E5EA;
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-weight: 500;
            box-sizing: border-box;
            transition: all 0.2s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--gold-leaf);
            background: white;
            box-shadow: 0 0 0 4px rgba(198, 163, 85, 0.1);
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 4px;
            background: rgba(0,0,0,0.05);
            position: absolute;
            top: 0;
            left: 0;
            border-radius: 4px 4px 0 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gold-leaf);
            width: 14.28%;
            transition: width 0.6s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .action-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 24px 40px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .btn-next {
            background: var(--obsidian-ink);
            color: white;
            padding: 14px 40px;
            border-radius: 12px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-next:hover {
            transform: translateY(-2px);
        }

        .btn-back {
            background: transparent;
            color: var(--obsidian-ink);
            opacity: 0.5;
            border: none;
            font-weight: 700;
            cursor: pointer;
        }

        .wizard-step {
            display: none;
        }

        .wizard-step.active {
            display: block;
        }

        .statutory-slab {
            background: rgba(198, 163, 85, 0.05);
            border: 1px solid rgba(198, 163, 85, 0.2);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 28px;
        }

        .slab-title {
            font-weight: 900;
            color: var(--gold-leaf);
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 8px;
        }

        .slab-text {
            color: rgba(0,0,0,0.6);
            font-size: 0.85rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="wizard-container">
        <div class="wizard-card">
            <div class="progress-container">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- STEP 1: SOVEREIGN ORIGIN -->
            <section id="step1" class="wizard-step active">
                <h2 class="step-title">Sovereign Origin</h2>
                <p class="step-subtitle">Identify the entity's home jurisdiction and legal character.</p>

                <div class="input-group">
                    <label class="input-label">Entity Type</label>
                    <select class="input-field" id="entityType" onchange="updateFees()">
                        <option value="llc">Foreign LLC</option>
                        <option value="corp">Foreign Corporation</option>
                    </select>
                </div>

                <div class="input-group">
                    <label class="input-label">Exact Legal Name in Home State</label>
                    <input type="text" class="input-field" id="entityName" placeholder="e.g., Global Ventures LLC">
                </div>

                <div class="input-group">
                    <label class="input-label">Home Jurisdiction (State/Country)</label>
                    <input type="text" class="input-field" id="homeState" placeholder="e.g., Delaware">
                </div>
            </section>

            <!-- STEP 2: STATUTORY CHRONOLOGY -->
            <section id="step2" class="wizard-step">
                <h2 class="step-title">Statutory Chronology</h2>
                <p class="step-subtitle">Historical benchmarks from the home jurisdiction.</p>

                <div class="input-group">
                    <label class="input-label">Home State Formation Date</label>
                    <input type="date" class="input-field" id="formationDate">
                </div>

                <div class="input-group">
                    <label class="input-label">Home State Document Number</label>
                    <input type="text" class="input-field" id="homeDocNum" placeholder="As issued by Original Jurisdiction">
                </div>

                <div class="statutory-slab">
                    <div class="slab-title">Florida Nexus</div>
                    <p class="slab-text">If the entity has already transacted business in Florida, the first date of transaction must be disclosed. Penalties may apply for late registration.</p>
                </div>

                <div class="input-group">
                    <label class="input-label">Date First Transacted Business in Florida</label>
                    <input type="date" class="input-field" id="flFirstDate">
                </div>
            </section>

            <!-- STEP 3: FLORIDA PRESENCE -->
            <section id="step3" class="wizard-step">
                <h2 class="step-title">Florida Presence</h2>
                <p class="step-subtitle">Designating local office and official representation.</p>

                <div class="input-group">
                    <label class="input-label">Principal Office Address</label>
                    <input type="text" class="input-field" id="principalAddress" placeholder="Physical Street Address">
                </div>

                <div class="input-group">
                    <label class="input-label">Florida Registered Agent Name</label>
                    <input type="text" class="input-field" id="raName" placeholder="Full Legal Name or RA Service Name">
                </div>

                <div class="input-group">
                    <label class="input-label">Florida Registered Agent Physical Address</label>
                    <input type="text" class="input-field" id="raAddress" placeholder="Must be a Florida Street Address (No P.O. Box)">
                </div>
            </section>

            <!-- STEP 4: GOVERNANCE SLATE -->
            <section id="step4" class="wizard-step">
                <h2 class="step-title">Governance Slate</h2>
                <p class="step-subtitle">Current authorized Managers, Directors, or Officers.</p>
                
                <div id="governanceContainer">
                    <!-- Dynamic fields can be added here -->
                </div>
                <button onclick="addGovernor()" style="background: none; border: 1px dashed var(--gold-leaf); color: var(--gold-leaf); padding: 12px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold;">+ Add Governor</button>
            </section>

            <!-- STEP 5: VERIFICATION -->
            <section id="step5" class="wizard-step">
                <h2 class="step-title">Sovereign Audit</h2>
                <p class="step-subtitle">Verifying compliance with Florida Statutes Chapter 605/607.</p>

                <div id="auditResults" class="statutory-slab">
                    <div class="slab-title">Audit Status</div>
                    <div id="auditList" class="slab-text">Ready for final scrubbing...</div>
                </div>

                <div class="input-group">
                    <label class="input-label">Electronic Signature</label>
                    <input type="text" class="input-field" id="signature" placeholder="TYPE FULL LEGAL NAME">
                </div>
            </section>

            <!-- STEP 6: FINANCIAL FINALITY -->
            <section id="step6" class="wizard-step">
                <h2 class="step-title">Financial Finality</h2>
                <p class="step-subtitle">Settling the statutory acquisition fees.</p>

                <div style="text-align: center; padding: 40px 0;">
                    <div class="input-label">Total Filing Fee</div>
                    <div style="font-size: 3.5rem; font-weight: 900; letter-spacing: -0.05em;" id="displayTotal">$125.00</div>
                    <p style="font-size: 0.85rem; color: rgba(0,0,0,0.4); margin-top: 12px;">Includes State Filing Fee + Document Scriven Fees</p>
                </div>

                <button class="btn-next" style="width: 100%; font-size: 1rem; padding: 20px;" onclick="finishWizard()">Authorize Registration</button>
            </section>

            <!-- SUCCESS -->
            <section id="step7" class="wizard-step">
                <div style="text-align: center; padding: 60px 0;">
                    <div style="width: 64px; height: 64px; background: #34C759; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"></polyline></svg>
                    </div>
                    <h2 class="step-title">Registration Initiated</h2>
                    <p class="step-subtitle">The foreign intent has been broadcast to the State of Florida.<br>Verification usually occurs within 48-72 hours.</p>
                    <button class="btn-next" style="margin-top: 24px;" onclick="window.location.href='/app/obsidian-zenith.html'">Return to Console</button>
                </div>
            </section>
        </div>
    </div>

    <footer class="action-bar" id="actionBar">
        <button class="btn-back" onclick="prevStep()">Back</button>
        <button class="btn-next" onclick="nextStep()">Continue →</button>
    </footer>

    <script>
        let currentStep = 1;
        const totalSteps = 6;

        function updateProgress() {
            const fill = document.getElementById('progressFill');
            fill.style.width = `${(currentStep / totalSteps) * 100}%`;
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                if (currentStep === 5) runAudit();
                if (currentStep === 6) document.getElementById('actionBar').style.display = 'none';
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                document.getElementById('actionBar').style.display = 'flex';
            }
        }

        function updateFees() {
            const type = document.getElementById('entityType').value;
            const fee = type === 'llc' ? 125 : 70;
            document.getElementById('displayTotal').textContent = `$${fee.toFixed(2)}`;
        }

        function addGovernor() {
            const container = document.getElementById('governanceContainer');
            const div = document.createElement('div');
            div.className = 'input-group';
            div.style.padding = '20px';
            div.style.background = '#F9F9FB';
            div.style.borderRadius = '12px';
            div.style.marginBottom = '16px';
            div.innerHTML = `
                <label class="input-label">Governor Full Name</label>
                <input type="text" class="input-field" placeholder="Full Legal Name" style="background: white; margin-bottom: 12px;">
                <label class="input-label">Mailing Address</label>
                <input type="text" class="input-field" placeholder="Full Address" style="background: white;">
            `;
            container.appendChild(div);
        }

        function runAudit() {
            const list = document.getElementById('auditList');
            list.innerHTML = "Scrubbing records...<br>";
            setTimeout(() => {
                list.innerHTML = `
                    <div style="color: #34C759; margin-bottom: 4px;">✔ Home Jurisdiction formatted</div>
                    <div style="color: #34C759; margin-bottom: 4px;">✔ Florida Registered Agent address verified</div>
                    <div style="color: #34C759; margin-bottom: 4px;">✔ Original Date validity confirmed</div>
                    <div style="color: #C6A355; margin-top: 12px; font-weight: 700;">⚠ Requirement: Must provide Certificate of Existence from Home State within 90 days of filing.</div>
                `;
            }, 800);
        }

        function finishWizard() {
            const btn = event.target;
            btn.textContent = "Broadcasting Intent...";
            btn.disabled = true;
            setTimeout(() => {
                document.getElementById('step6').classList.remove('active');
                document.getElementById('step7').classList.add('active');
            }, 1500);
        }
    </script>
</body>
</html>
