# Charter Legacy: Dynamic Hero & A/B Strategy

**Project:** Automated Brand Evolution & Optimization
**Framework:** Java (Spring Boot) / Node.js + Local AI (Ollama/LangChain4j)  
**Objective:** Automate brand-to-user resonance through privacy-first iterative testing.
**Approval Workflow:** Human-in-the-Loop (HITL)

---

## I. Hero Asset Variants (The Jobs Collection)

These three variants target the core pillars of the app: **Lifecycle**, **Privacy**, and **Legacy**.

### Variant A: The Lifecycle Focus (Utility)

- **Headline:** Start. Shield. Sustain.
- **Subheading:** The entire lifecycle of your business, distilled into one elegant experience. We’ve automated the filings, shielded the ownership, and secured the hand-off. It’s not just a tool—it’s the definitive way to build something that lasts.
- **Target Sentiment:** Efficiency and All-in-One Utility.

### Variant B: The Privacy Focus (Fortress)

- **Headline:** Anonymity by Default.
- **Subheading:** Your life belongs to you. Your business belongs to the state. We build an invisible wall between them, housing your entity in our secure facility so your home address never sees the public eye.
- **Target Sentiment:** Security, Freedom, and Anonymity.

### Variant C: The Legacy Focus (Succession)

- **Headline:** Build it. Protect it. Pass it on.
- **Subheading:** Most entities die when the founder does. Charter Legacy pairs institutional-grade privacy with automated succession protocols, providing the administrative framework so your life’s work transfers exactly as you designed.
- **Target Sentiment:** Emotional Security and Continuity.

---

## II. A/B/C Implementation Strategy (Multi-Armed Bandit)

Instead of a simple random rotation, we utilize a **Multi-Armed Bandit (MAB)** approach. This ensures the best-performing copy gets more "airtime" while still exploring new iterations.

### 1. Data Capture (Backend)

Track `ImpressionCount` and `ClickThroughCount` for each variant ID.

- **Metric:** CTR ($CTR = \frac{Clicks}{Impressions}$)
- **Goal:** Optimize for the "Launch Entity" / "Get Started" CTA.

### 2. The "Growth Engineer" Logic (Local AI Feedback Loop)

Instead of random guesses, Ollama will analyze the performance delta between variants to propose "Challenger" headlines. Every $N$ impressions (e.g., 500), trigger a Local AI analysis.

#### The Analytics Payload

The backend will aggregate data into a JSON structure to be sent to Ollama:

```json
{
  "current_test_period": "14 days",
  "variants": [
    {
      "id": "A",
      "title": "Start. Shield. Sustain.",
      "ctr": "4.2%",
      "conversion_rate": "1.1%"
    },
    {
      "id": "B",
      "title": "Anonymity by Default.",
      "ctr": "5.8%",
      "conversion_rate": "0.8%"
    },
    {
      "id": "C",
      "title": "Build it. Protect it. Pass it on.",
      "ctr": "3.1%",
      "conversion_rate": "1.5%"
    }
  ],
  "winning_attribute": "High intent on Succession (Variant C), High curiosity on Privacy (Variant B)"
}
```

#### Ollama Analysis & Proposal Prompt

The system uses a specialized "Strategist" prompt to generate the next generation of copy:

> **System Prompt:**
> "Act as a Senior Conversion Rate Optimizer (CRO) and Brand Strategist. Analyze the provided CTR and Conversion data. Identify which emotional hooks (Privacy, Ease of Use, or Legacy) are resonating.
> **Task:** Propose 2 new 'Challenger' Hero Titles and Subheadings.
> **Strategy:** Blend the high curiosity of Variant B with the high conversion of Variant C.
> **Constraint:** No UPL. Use administrative and logistical terminology only."

---

## III. The Approval Workflow (HitL / "The Vault" UI)

To ensure the AI stays on-brand and legally compliant, new iterations are held in a `PENDING_APPROVAL` state.

**Status Enum Example:**

```java
public enum VariantStatus {
    ACTIVE,      // Currently in rotation
    ARCHIVED,    // Performance was too low
    PENDING,     // Generated by AI, awaiting owner approval
    REJECTED     // Human rejected the AI proposal
}
```

**The Human-in-the-Loop Process:**

1. Ollama generates a proposal based on the "Winning" traits.
2. The backend persists this to the database with `status = PENDING`.
3. Admin Dashboard (Charter Legacy App) alerts you: _"New Hero Variant Proposed based on last week's 5.8% CTR."_
4. **Action:** You click "Approve" to move the variant into the active Multi-Armed Bandit rotation.

---

## IV. Privacy Compliance (UPL Safeguards)

To ensure we avoid the Unauthorized Practice of Law, all generated iterations must strictly adhere to linguistic constraints constraints inside the AI Prompt:

- **Prohibited Terms:** "Legal Advice," "Attorney-Client," "Lawsuit-Proof," "Legal Shield."
- **Preferred Terms:** "Administrative Management," "Entity Privacy," "Filing Automation," "Logistical Protection."
- **Mandatory Disclaimer:** Must be present in the site footer as per brand guidelines.

---

## V. Deployment Checklist

- [ ] Load Variant A, B, and C into the `hero_variants` table.
- [ ] Initialize MAB (Epsilon-Greedy) algorithm for rendering rotation on the frontend.
- [ ] Set up tracking endpoint for `/api/v1/analytics/click` and page views.
- [ ] Configure AI service endpoint to local Ollama instance (e.g., via LangChain4j or raw REST).
- [ ] Build the Admin Approvals UI to review and accept `PENDING` variants.
